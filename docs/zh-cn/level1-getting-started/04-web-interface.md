# 第四章：Web 界面使用指南 ⭐

## 学习目标

完成本章节学习后，你将能够：

### 基础目标（必掌握）⭐

- [ ] 理解**前后端分离架构**的基本概念和优势
- [ ] 能够独立启动 Web 应用的后端和前端服务
- [ ] 掌握 Web 界面各区域的功能定位和操作方法
- [ ] 能够完成一次完整的股票分析流程

### 进阶目标（建议掌握）⭐⭐

- [ ] 熟练使用历史记录功能追踪和分析历史决策
- [ ] 能够配置个性化用户偏好设置
- [ ] 理解可视化图表的解读方法
- [ ] 能够独立诊断和解决常见 Web 应用问题

### 专家目标（挑战）⭐⭐⭐

- [ ] 比较分析 Web 界面与命令行接口的优劣，理解各自的适用场景
- [ ] 为团队设计 Web 应用的最佳实践和协作流程
- [ ] 提出扩展 Web 应用功能的改进建议

**预计学习时间**：20-40 分钟

**前置知识**：
- 已完成环境配置（API 密钥、依赖安装）
- 了解基本的浏览器操作
- 了解命令行终端的基本使用

---

## 4.1 Web 应用概述

### 为什么需要 Web 界面？

> 💡 **设计理念**：Web 界面的核心目标是降低技术门槛，让非技术用户也能轻松使用 AI 对冲基金系统。

**命令行的挑战**：
- 需要记忆复杂的命令行参数
- 难以直观地比较多个智能体的分析结果
- 历史记录管理不便
- 缺少可视化图表辅助决策

**Web 界面的优势**：
- 🖱️ **直观操作**：点击即可完成，无需记忆命令
- 📊 **可视化展示**：图表直观呈现分析结果
- 📜 **历史追踪**：轻松回顾和对比历史分析
- 🎨 **友好界面**：适合非技术用户快速上手

### 系统架构：前后端分离

Web 应用采用**前后端分离（Frontend-Backend Separation）**架构。

```
┌─────────────────────────────────────────────────┐
│                    Web 界面                      │
│                                               │
│  ┌─────────────────┐         ┌──────────────┐  │
│  │   前端（Frontend）│  HTTP  │   后端（Backend）│  │
│  │   JavaScript    │◄──────►│    Python     │  │
│  │   React/Vue     │  JSON  │   FastAPI     │  │
│  └─────────────────┘         └──────────────┘  │
│         │                           │           │
│         │                           │           │
│         ▼                           ▼           │
│    用户界面                      业务逻辑        │
│  (浏览器渲染)                  (API 服务)      │
└─────────────────────────────────────────────────┘
```

**为什么要用前后端分离？**

| 传统架构 | 前后端分离 | 优势说明 |
|---------|-----------|---------|
| 服务器渲染页面 | 前端独立渲染 | **用户体验更好**：页面局部更新，无需刷新 |
| 混合前后端代码 | 完全分离 | **开发效率高**：前后端可并行开发 |
| 难以独立更新 | 前端独立部署 | **迭代更灵活**：界面和 API 可独立优化 |
| 难以复用 | RESTful API | **扩展性强**：API 可供其他程序调用 |

**核心技术栈**：

- **后端**：使用 **FastAPI** 框架（一个高性能的 Python Web 框架），提供 **RESTful API**（一种基于 HTTP 的 API 设计风格）
- **前端**：使用现代 JavaScript 框架（React/Vue），通过 **VITE**（一个快速的 JavaScript 构建工具）开发
- **通信**：使用 HTTP 协议传输 JSON 数据

---

## 4.2 启动 Web 应用

### 为什么需要启动两个服务？

> 🤔 **常见疑问**："为什么不能运行一个命令就启动？"

这是因为前后端分离架构的特点：
- **后端服务**：负责处理业务逻辑、调用 LLM、获取数据
- **前端开发服务器**：负责提供静态资源、热重载（Hot Reload）

**生产环境**中，前端会被打包成静态文件，由 Nginx 等 Web 服务器托管。**开发环境**中需要两个服务协同工作。

### 启动流程概览

```
准备环境
    │
    ├─→ 检查依赖（poetry install）
    ├─→ 配置 API 密钥（.env 文件）
    └─→ 安装 Node.js 和 npm
    │
    ▼
启动后端服务（Terminal 1）
    │
    ├─→ cd app
    └─→ poetry run uvicorn ...
    │
    ▼
启动前端服务（Terminal 2）
    │
    ├─→ cd app
    └─→ npm run dev
    │
    ▼
访问 Web 界面（浏览器）
    │
    └─→ http://localhost:5173
```

### 前置条件检查

在启动之前，请完成以下检查清单：

#### 环境检查

- [ ] **Python 依赖已安装**：
  ```bash
  # 检查 poetry 是否可用
  poetry --version
  # 输出示例：Poetry (version 1.8.0)
  ```

- [ ] **LLM API 密钥已配置**：
  ```bash
  # 检查 .env 文件是否存在
  ls .env

  # 查看配置（不要泄露密钥）
  cat .env
  ```
  应该至少看到 `OPENAI_API_KEY` 或其他 LLM 提供商的密钥。

- [ ] **Node.js 和 npm 已安装**：
  ```bash
  node --version
  # 输出示例：v20.10.0

  npm --version
  # 输出示例：10.2.4
  ```

#### 端口可用性检查

- [ ] **端口 8000 未被占用**（后端服务）
- [ ] **端口 5173 未被占用**（前端服务）

> 💡 **端口检查命令**（macOS/Linux）：
> ```bash
> # 检查端口占用
> lsof -i :8000
> lsof -i :5173
> ```

### 步骤一：启动后端服务

打开**第一个终端窗口**，执行以下命令：

```bash
# 进入 app 目录
cd app

# 启动后端 API 服务
poetry run uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

**命令解释**：

| 参数 | 说明 |
|------|------|
| `poetry run` | 使用 Poetry 管理的 Python 环境运行命令 |
| `uvicorn` | 一个 ASGI 服务器，用于运行 FastAPI 应用 |
| `app.main:app` | 应用程序的入口点（模块:对象） |
| `--reload` | 热重载：代码修改后自动重启服务 |
| `--host 0.0.0.0` | 监听所有网络接口（允许外部访问） |
| `--port 8000` | 使用 8000 端口 |

**成功启动的输出**：

```
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [28715] using WatchFiles
INFO:     Started server process [28717]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
```

> ⚠️ **常见问题**：
> - 如果看到 `Address already in use`，说明端口 8000 被占用
> - 如果看到 `Module not found`，说明依赖未安装，运行 `poetry install`
> - 如果看到 `KeyError`，说明 .env 文件配置有问题

**验证后端服务**：

在浏览器或新终端中访问：
```bash
curl http://localhost:8000/api/health
```

或直接在浏览器打开：`http://localhost:8000/docs`（API 文档页面）

### 步骤二：启动前端开发服务器

打开**第二个终端窗口**（保持第一个终端运行），执行以下命令：

```bash
# 进入 app 目录
cd app

# 启动前端开发服务器
npm run dev
```

**首次启动可能需要安装依赖**：

如果看到提示 `Need to install the following packages`，运行：
```bash
npm install
```

**成功启动的输出**：

```
  VITE v5.0.0  ready in 312 ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
  ➜  press h + enter to show help
```

**关键信息**：
- `VITE v5.0.0`：Vite 构建工具的版本
- `Local: http://localhost:5173/`：本地访问地址
- 启动时间（300ms 左右）

> ⚠️ **常见问题**：
> - 如果看到 `command not found: npm`，需要安装 Node.js
> - 如果看到 `ENOSPC: System limit for number of file watchers`，运行：
>   ```bash
>   # macOS/Linux
>   echo fs.inotify.max_user_watches=524288 | sudo tee -a /etc/sysctl.conf
>   sudo sysctl -p
>   ```

### 步骤三：访问 Web 界面

打开浏览器（推荐 Chrome、Firefox、Edge），访问：

```
http://localhost:5173
```

**成功加载后，你应该看到**：

```
┌─────────────────────────────────────────┐
│           AI Hedge Fund                 │
│  ┌───────────┐  ┌──────────────────┐   │
│  │ 股票输入   │  │  分析按钮         │   │
│  └───────────┘  └──────────────────┘   │
│                                         │
│  ┌─────────────────────────────────┐  │
│  │         智能体选择器              │  │
│  │  ☑ Warren Buffett               │  │
│  │  ☑ Charlie Munger               │  │
│  │  ☑ Peter Lynch                  │  │
│  └─────────────────────────────────┘  │
└─────────────────────────────────────────┘
```

**如果页面无法加载**，参见 [4.6 节：常见问题与解决](#46-常见问题与解决)。

---

## 4.3 界面布局与功能

### 主界面结构

Web 应用的界面设计遵循**渐进式披露（Progressive Disclosure）**原则：重要功能优先展示，次要功能折叠隐藏。

```
┌──────────────────────────────────────────────────────┐
│  🏠 AI Hedge Fund                    👤 ⚙️         │ ← 顶部导航栏
├──────────┬───────────────────────────────────────────┤
│          │                                           │
│  📊      │    股票分析页面                           │
│  Stock   │  ┌───────────────────────────────────┐   │
│  History │  │  股票输入框：AAPL, MSFT, NVDA     │   │
│          │  └───────────────────────────────────┘   │
│  ⚙️      │                                           │
│  Agents  │  📅 时间范围选择器：[🗓️ 30天 ▼]         │
│          │                                           │
│  📈      │  🤖 模型选择器：[GPT-4o ▼]               │
│  Charts  │                                           │
│          │  👥 智能体选择器：                        │
│          │    [☑ 全部智能体] [☐ 自定义]             │
│          │                                           │
│          │  ┌───────────────────────────────────┐   │
│          │  │    ▶ Run Analysis (开始分析)      │   │
│          │  └───────────────────────────────────┘   │
│          │                                           │
│          │  📊 分析结果展示区                        │
│          │  ┌───────────────────────────────────┐   │
│          │  │  买入：7  卖出：3  持有：2        │   │
│          │  │  [查看详细结果]                   │   │
│          │  └───────────────────────────────────┘   │
├──────────┴───────────────────────────────────────────┤
│  🟢 后端：运行中  ⏱️ 上次分析：5分钟前                │ ← 状态栏
└──────────────────────────────────────────────────────┘
  左侧边栏                     主内容区
```

### 各区域功能详解

#### 顶部导航栏

```
┌─────────────────────────────────────┐
│  🏠 AI Hedge Fund   👤 User  ⚙️    │
│     应用标题          用户  设置   │
└─────────────────────────────────────┘
```

- **应用标题**：返回首页
- **用户信息**：显示当前登录用户（如果有）
- **设置按钮**：打开用户偏好设置页面

#### 左侧边栏

提供快捷导航和常用功能入口：

| 图标 | 名称 | 功能 |
|------|------|------|
| 🏠 | Home | 返回首页 |
| 📊 | Stock Analysis | 股票分析页面 |
| 📜 | History | 历史记录查看 |
| ⚙️ | Agents | 智能体配置 |
| 📈 | Charts | 可视化图表 |

#### 主内容区：股票输入区

位于页面顶部或左侧，用于输入要分析的股票代码。

```
┌─────────────────────────────────────┐
│  📈 股票代码                        │
│  ┌───────────────────────────────┐  │
│  │  AAPL, MSFT, NVDA            │  │
│  └───────────────────────────────┘  │
│  💡 支持多只股票，用逗号分隔         │
│  💡 输入时显示自动补全提示           │
└─────────────────────────────────────┘
```

**使用说明**：
- 输入**股票代码**（Ticker Symbol）：如 AAPL、MSFT
- 支持多只股票：用逗号或空格分隔（`AAPL, MSFT, NVDA`）
- 自动补全：输入部分代码，系统会提示匹配的股票
- 常用股票：AAPL、GOOGL、MSFT、NVDA、TSLA（无需 API Key）

> 💡 **为什么有自动补全？**
> 避免输入错误的股票代码。错误的代码会导致分析失败，自动补全可以提前发现并纠正错误。

#### 主内容区：时间范围选择器

```
┌─────────────────────────────────────┐
│  📅 时间范围                        │
│  ┌───────────────────────────────┐  │
│  │  🗓️ 最近 30 天    ▼          │  │
│  └───────────────────────────────┘  │
│                                     │
│  快捷选项：                          │
│  • 7 天    • 30 天    • 90 天       │
│  • 6 个月  • 1 年     • 自定义       │
└─────────────────────────────────────┘
```

**使用说明**：
- 点击下拉菜单选择预设时间范围
- 也可以点击日历图标自定义起止日期
- 如果不设置，默认使用**最近 30 天**

> 💡 **时间范围的影响**：
> - **较短时间**（7-30 天）：适合短期交易决策
> - **中等时间**（3-6 个月）：适合中期趋势分析
> - **较长时间**（1 年+）：适合长期投资分析

#### 主内容区：模型选择器

选择使用的 **LLM（Large Language Model，大语言模型）**提供商。

```
┌─────────────────────────────────────┐
│  🤖 LLM 模型                        │
│  ┌───────────────────────────────┐  │
│  │  OpenAI GPT-4o      ▼        │  │
│  └───────────────────────────────┘  │
│                                     │
│  可选模型（需配置对应 API Key）：    │
│  • OpenAI GPT-4o                    │
│  • OpenAI GPT-4o-mini               │
│  • Anthropic Claude 3.5 Sonnet     │
│  • Groq Llama 3.1                  │
│  • DeepSeek-V3                     │
└─────────────────────────────────────┘
```

**不同模型的特点**：

| 模型 | 优势 | 成本 | 推荐场景 |
|------|------|------|---------|
| GPT-4o | 综合能力强 | 较高 | 复杂分析、重要决策 |
| GPT-4o-mini | 速度快、成本低 | 低 | 快速分析、批量处理 |
| Claude 3.5 | 长文本处理好 | 中等 | 深度研究报告 |
| Llama 3.1 | 开源、免费（需自托管） | 0（硬件成本） | 隐私要求高的场景 |

> ⚠️ **重要提示**：要使用某个模型，必须在 `.env` 文件中配置对应的 API Key。

#### 主内容区：智能体选择器

选择参与分析的**智能体（Agent）**——模拟不同投资风格的 AI 代理。

```
┌─────────────────────────────────────┐
│  👥 智能体选择                      │
│                                     │
│  ☑ Warren Buffett    📊 价值投资    │
│  ☑ Charlie Munger    📊 价值投资    │
│  ☑ Peter Lynch       📊 成长投资    │
│  ☑ Cathie Wood       📊 创新成长    │
│  ☑ Bill Ackman       📊 激进投资    │
│                                     │
│  [☑ 选择全部]  [☐ 清空选择]         │
│  当前已选：5 个智能体                │
└─────────────────────────────────────┘
```

**智能体分类**：

| 投资风格 | 代表智能体 | 特点 |
|---------|-----------|------|
| **价值投资** | Warren Buffett, Charlie Munger, Ben Graham | 寻找被低估的优质公司，注重安全边际 |
| **成长投资** | Cathie Wood, Peter Lynch, Phil Fisher | 关注创新和成长潜力，寻找"十倍股" |
| **逆向投资** | Michael Burry, Rakesh Jhunjhunwala | 在市场恐慌时寻找机会 |
| **宏观对冲** | Stanley Druckenmiller | 关注宏观经济趋势，寻找不对称机会 |
| **激进投资** | Bill Ackman | 主动施压管理层，推动公司变革 |

**为什么需要多个智能体？**

单一个体的判断可能存在偏见，多个智能体通过**群体智慧（Collective Intelligence）**提供更全面的视角。不同的智能体代表不同的投资哲学，帮助用户从多角度评估股票。

#### 主内容区：分析按钮

触发分析流程的主要操作按钮。

```
┌─────────────────────────────────────┐
│                                     │
│    ┌───────────────────────────┐    │
│    │   ▶ Run Analysis          │    │  ← 初始状态
│    └───────────────────────────┘    │
│                                     │
│  或：                                │
│                                     │
│    ┌───────────────────────────┐    │
│    │   ⏳ 分析进行中... 35%     │    │  ← 运行中
│    └───────────────────────────┘    │
│                                     │
│    ┌───────────────────────────┐    │
│    │   ✅ 分析完成！查看结果 →  │    │  ← 完成状态
│    └───────────────────────────┘    │
└─────────────────────────────────────┘
```

**按钮状态说明**：

| 状态 | 视觉 | 含义 |
|------|------|------|
| **就绪** | `▶ Run Analysis` | 准备就绪，可以点击 |
| **运行中** | `⏳ 分析中... 35%` | 正在分析，显示进度 |
| **完成** | `✅ 分析完成！` | 分析完成，可查看结果 |

#### 主内容区：结果展示区

显示分析结果，包括各智能体的建议、风险评估和最终决策。

```
┌─────────────────────────────────────┐
│  📊 分析结果 - AAPL                  │
├─────────────────────────────────────┤
│                                     │
│  🎯 总体建议：                       │
│  ┌───────────────────────────────┐  │
│  │      💰 买入（强推荐）          │  │
│  │  置信度：82%  |  一致性：75%   │  │
│  └───────────────────────────────┘  │
│                                     │
│  👥 智能体投票：                     │
│  ┌───────────────────────────────┐  │
│  │  买入 ████████████████ 7      │  │
│  │  持有 ████            2      │  │
│  │  卖出 ███             3      │  │
│  └───────────────────────────────┘  │
│                                     │
│  📈 主要观点：                       │
│  • Warren Buffett：现金流强劲，护城河深│
│  • Peter Lynch：新产品潜力巨大       │
│  • Cathie Wood：AI 布局领先行业     │
│                                     │
│  [查看详细报告]  [导出 PDF]         │
└─────────────────────────────────────┘
```

**关键指标解释**：

| 指标 | 含义 | 判断标准 |
|------|------|---------|
| **总体建议** | 系统综合所有智能体后的决策 | 买入/持有/卖出 |
| **置信度** | 对决策的确定性程度 | >80% 高度确信，50-80% 中等，<50% 不确定 |
| **一致性** | 智能体意见的一致程度 | >70% 高度一致，40-70% 有分歧，<40% 严重分歧 |

#### 状态栏

显示系统状态和快捷操作。

```
┌─────────────────────────────────────────────┐
│  🟢 后端：运行中  🟢 前端：运行中           │
│  ⏱️ 上次分析：5分钟前  📊 今日分析：12 次   │
└─────────────────────────────────────────────┘
```

---

## 4.4 操作流程

### 基本分析流程

使用 Web 应用进行股票分析的完整流程如下：

```
┌─────────────────────────────────────────────────────┐
│  步骤 1：输入股票代码                               │
├─────────────────────────────────────────────────────┤
│  操作：在股票输入框中输入要分析的股票代码           │
│  示例：AAPL, MSFT, NVDA                            │
│  提示：支持自动补全，可以输入部分代码               │
└─────────────────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────────────────┐
│  步骤 2：设置时间范围                               │
├─────────────────────────────────────────────────────┤
│  操作：点击日期选择器，选择分析的起止日期           │
│  默认：最近 30 天                                   │
│  快捷：7 天、30 天、90 天、6 个月、1 年             │
└─────────────────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────────────────┐
│  步骤 3：选择 LLM 模型                              │
├─────────────────────────────────────────────────────┤
│  操作：从模型下拉菜单中选择要使用的 LLM 提供商       │
│  默认：OpenAI GPT-4o                                │
│  提示：需在 .env 文件中配置对应 API Key             │
└─────────────────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────────────────┐
│  步骤 4：选择智能体                                 │
├─────────────────────────────────────────────────────┤
│  操作：勾选要参与分析的智能体                         │
│  建议：                                             │
│    • 初学者：选择全部智能体                         │
│    • 有经验：根据投资风格选择子集                   │
└─────────────────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────────────────┐
│  步骤 5：运行分析                                   │
├─────────────────────────────────────────────────────┤
│  操作：点击「Run Analysis」或「开始分析」按钮       │
│  预期时间：1-3 分钟（取决于智能体数量和模型）       │
│  提示：分析期间可以查看进度信息，不要关闭页面       │
└─────────────────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────────────────┐
│  步骤 6：查看结果                                   │
├─────────────────────────────────────────────────────┤
│  操作：分析完成后，查看结果展示区                   │
│  内容：                                             │
│    • 总体建议和置信度                               │
│    • 智能体投票分布                                 │
│    • 各智能体的主要观点                             │
│    • 风险评估                                       │
└─────────────────────────────────────────────────────┘
```

### 详细操作示例：分析 AAPL

让我们通过一个完整的示例来演示整个流程。

#### 示例场景

假设你想分析**苹果公司（AAPL）**的股票，时间范围选择**最近 3 个月**，使用**全部智能体**进行分析。

#### 操作步骤

**步骤 1：启动服务**

如果服务未启动，按照 4.2 节的说明启动后端和前端服务。

**步骤 2：输入股票代码**

在股票输入框中输入：

```
AAPL
```

系统会显示自动补全提示：
```
AAPL - Apple Inc.
```

按 Enter 或点击提示选择。

**步骤 3：设置时间范围**

点击时间范围选择器，选择：
- 快捷选项：**90 天**（约 3 个月）

或点击日历图标，手动选择：
- 开始日期：2025-11-13
- 结束日期：2026-02-13

**步骤 4：选择模型**

从模型下拉菜单选择：
- **OpenAI GPT-4o**（默认）

**步骤 5：选择智能体**

点击「选择全部」复选框，勾选所有智能体（18 个）。

智能体列表会显示：
```
☑ Warren Buffett      价值投资
☑ Charlie Munger      价值投资
☑ Peter Lynch         成长投资
☑ Cathie Wood         创新成长
☑ Bill Ackman         激进投资
... (共 18 个)
```

**步骤 6：运行分析**

点击「▶ Run Analysis」按钮。

按钮变为：`⏳ 分析进行中... 10%`

等待 1-3 分钟，进度会逐步更新。

**步骤 7：查看结果**

分析完成后，结果展示区显示：

```
📊 分析结果 - AAPL

🎯 总体建议：
  💰 买入（中等推荐）
  置信度：72%  |  一致性：65%

👥 智能体投票：
  买入 ██████████████ 6
  持有 ████████      5
  卖出 ███           3

📈 主要观点：
  • Warren Buffett：现金流稳定，回购力度大
  • Cathie Wood：Vision Pro 市场潜力被低估
  • Peter Lynch：iPhone 销量超预期

⚠️ 风险提示：
  • 中国市场收入占比高，受地缘政治影响
  • 智能手机市场竞争加剧

[查看详细报告]  [导出 PDF]
```

### 历史记录查看

Web 应用会自动保存分析历史，方便你追踪和对比。

#### 访问历史记录

1. 点击左侧边栏的「📜 History」或「历史」标签
2. 进入历史记录页面

#### 历史记录页面布局

```
┌─────────────────────────────────────────────────┐
│  📜 历史记录                            🔍 搜索 │
├─────────────────────────────────────────────────┤
│  筛选：                                          │
│  时间范围：[🗓️ 全部 ▼]  智能体：[全部 ▼]       │
├─────────────────────────────────────────────────┤
│  今天                                            │
│  ┌─────────────────────────────────────────┐   │
│  │  14:30  AAPL 买入 18智能体  查看 →        │   │
│  └─────────────────────────────────────────┘   │
│  ┌─────────────────────────────────────────┐   │
│  │  10:15  MSFT 持有 12智能体  查看 →        │   │
│  └─────────────────────────────────────────┘   │
│                                                  │
│  昨天                                            │
│  ┌─────────────────────────────────────────┐   │
│  │  16:45  NVDA 买入 18智能体  查看 →        │   │
│  └─────────────────────────────────────────┘   │
└─────────────────────────────────────────────────┘
```

#### 历史记录操作

| 操作 | 说明 |
|------|------|
| **搜索** | 输入股票代码快速查找 |
| **筛选** | 按时间范围、智能体筛选 |
| **查看详情** | 点击查看完整的分析报告 |
| **重新运行** | 基于历史配置重新分析 |
| **导出** | 导出历史记录为 CSV/PDF |

#### 使用场景示例

**场景 1：追踪决策效果**

1. 查看一个月前的分析结果（建议买入 AAPL）
2. 对比当前股价，验证决策是否正确
3. 分析为什么准确/不准确

**场景 2：对比不同配置**

1. 查看同一只股票在不同时间范围下的分析结果
2. 对比不同智能体组合的决策差异

### 可视化图表

Web 应用提供多种可视化图表，帮助你理解分析结果。

#### 智能体投票图

显示各智能体的投票结果分布。

```
┌─────────────────────────────────────┐
│  📊 智能体投票分布                   │
│                                     │
│  买入 ████████████████████ 60%     │
│  持有 ██████████         25%       │
│  卖出 ████               15%       │
│                                     │
│  🟢 9 个智能体   🟡 5 个智能体      │
│  🔴 3 个智能体                      │
└─────────────────────────────────────┘
```

**解读要点**：
- **高度一致**：某一选项 >70%，说明智能体共识强
- **分歧明显**：各选项分布均匀，说明不确定因素多
- **两极分化**：买入和卖出多，持有少，说明争议大

#### 置信度分布图

展示各智能体的置信度水平。

```
┌─────────────────────────────────────┐
│  📈 置信度分布                      │
│                                     │
│  高度 (>80%) ████████████ 8         │
│  中等 (50-80%) █████████  6        │
│  较低 (<50%) ██        2           │
│                                     │
│  平均置信度：73.5%                  │
└─────────────────────────────────────┘
```

**解读要点**：
- **平均置信度高**：说明分析结果可靠
- **置信度分化大**：说明智能体对某些因素判断不一
- **建议**：低置信度时谨慎决策

#### 时间序列图（历史分析）

显示股票价格和系统建议的历史变化。

```
┌─────────────────────────────────────┐
│  📈 AAPL 价格与建议趋势（近3个月）    │
│                                     │
│  $200  ┤         ┌─────────┐        │
│       ┤        ┌─┘         └─┐      │
│  $180  ┤   ┌────┘             └─┐   │
│       ┤  ┌─┘                     └──┤
│  $160  ┤──┘                          │
│       ┤     买入      持有   买入    │
│       └──────────────────────────────┤
│       Nov   Dec   Jan   Feb         │
│                                     │
│  📊 建议变化：                       │
│  11/15 → 买入（置信度 68%）          │
│  12/20 → 持有（置信度 55%）          │
│  02/10 → 买入（置信度 72%）          │
└─────────────────────────────────────┘
```

**解读要点**：
- **建议连贯性**：如果建议频繁变化，说明市场不确定
- **价格与建议关系**：价格下跌时买入，说明逆向操作
- **时机把握**：对比价格转折点和建议变化点

---

## 4.5 配置选项

### 用户设置

点击右上角的 👤 用户图标或 ⚙️ 设置按钮，进入用户配置页面。

#### 设置页面布局

```
┌─────────────────────────────────────────────────┐
│  ⚙️ 用户设置                        [保存] [取消]│
├─────────────────────────────────────────────────┤
│                                                 │
│  📋 默认模型设置                               │
│  ┌─────────────────────────────────────────┐   │
│  │  默认 LLM：[OpenAI GPT-4o       ▼]      │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  👥 智能体偏好                                 │
│  ┌─────────────────────────────────────────┐   │
│  │  ☑ 价值投资 (3)                        │   │
│  │  ☑ 成长投资 (3)                        │   │
│  │  ☐ 激进投资 (1)                        │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  🎨 显示选项                                   │
│  ┌─────────────────────────────────────────┐   │
│  │  ☑ 自动展开详细结果                    │   │
│  │  每页显示历史记录：[20 ▼]               │   │
│  │  ☑ 显示置信度百分比                    │   │
│  └─────────────────────────────────────────┘   │
└─────────────────────────────────────────────────┘
```

#### 默认模型设置

设置默认使用的 LLM 模型，下次访问时会自动选择。

| 选项 | 说明 |
|------|------|
| **OpenAI GPT-4o** | 综合能力最强，适合重要决策 |
| **OpenAI GPT-4o-mini** | 速度快、成本低，适合快速分析 |
| **Anthropic Claude 3.5** | 长文本处理好，适合深度分析 |

**使用建议**：
- 初学者：使用默认的 GPT-4o
- 预算有限：使用 GPT-4o-mini
- 深度研究：使用 Claude 3.5

#### 智能体偏好

保存常用的智能体组合，避免每次重复选择。

**预设组合**：

| 组合名称 | 包含智能体 | 适用场景 |
|---------|-----------|---------|
| **价值投资组合** | Warren Buffett, Charlie Munger, Ben Graham | 寻找被低估的优质公司 |
| **成长投资组合** | Peter Lynch, Cathie Wood, Phil Fisher | 寻找高成长潜力股 |
| **均衡组合** | 价值 + 成长混合 | 平衡风险和收益 |
| **激进组合** | Bill Ackman, Michael Burry, Cathie Wood | 敢于冒险，追求高回报 |
| **全选** | 所有智能体 | 全面分析 |

**自定义组合**：

1. 取消勾选「选择全部」
2. 手动勾选想要的智能体
3. 点击「保存为预设」
4. 输入组合名称，如「我的自定义组合」

#### 显示选项

配置结果的显示方式，提升阅读体验。

| 选项 | 推荐设置 | 说明 |
|------|---------|------|
| **自动展开详细结果** | ☑ | 自动展开各智能体的详细分析 |
| **每页显示历史记录** | 20 | 20-50 条为宜，太多影响加载速度 |
| **显示置信度百分比** | ☑ | 显示具体的置信度数值 |
| **显示图表动画** | ☑ | 开启图表的动画效果 |

### 主题设置

Web 应用支持浅色和深色主题切换。

#### 切换主题

点击主题切换按钮（☀️/🌙）：

- **浅色主题**（☀️）：适合白天使用，阅读清晰
- **深色主题**（🌙）：适合夜间使用，减少眼睛疲劳

#### 主题对比

```
浅色主题：
┌─────────────────────────────────────┐
│  背景色：#ffffff (白色)              │
│  文字色：#1a1a1a (深灰)             │
│  适合：白天、明亮环境               │
└─────────────────────────────────────┘

深色主题：
┌─────────────────────────────────────┐
│  背景色：#1a1a1a (深灰)             │
│  文字色：#ffffff (白色)             │
│  适合：夜间、暗光环境               │
└─────────────────────────────────────┘
```

---

## 4.6 常见问题与解决

### 问题一：页面无法加载

**症状**：访问 `http://localhost:5173` 时页面空白或报错。

#### 排查流程

```
问题：页面无法加载
    │
    ├─→ 检查前端服务
    │   │
    │   ├─ 服务是否在运行？
    │   │   ├─ 是 → 检查后端服务
    │   │   └─ 否 → 重启前端服务
    │   │
    │   └─ 是否有错误信息？
    │       ├─ 有 → 查看错误详情
    │       └─ 无 → 检查浏览器控制台
    │
    ├─→ 检查后端服务
    │   │
    │   ├─ 服务是否在运行？
    │   │   ├─ 是 → 检查端口占用
    │   │   └─ 否 → 重启后端服务
    │   │
    │   └─ API 是否可访问？
    │       ├─ 是 → 检查前端 API 地址
    │       └─ 否 → 检查后端配置
    │
    ├─→ 检查浏览器
    │   │
    │   ├─ 是否有控制台错误？
    │   │   ├─ 是 → 根据错误修复
    │   │   └─ 否 → 清除缓存重试
    │   │
    │   └─ 网络是否正常？
    │       └─ 检查网络连接
    │
    └─→ 仍无法解决？
        └─ 查看完整日志，提交 Issue
```

#### 具体排查步骤

**第一步：检查前端服务**

```bash
# 查看运行 npm run dev 的终端
# 应该看到类似以下输出：
VITE v5.0.0  ready in 312 ms
➜  Local:   http://localhost:5173/
```

如果看到错误信息：
- `command not found: npm` → 安装 Node.js
- `port 5173 is already in use` → 关闭占用端口的进程
- `ENOENT: no such file` → 进入正确的目录（`cd app`）

**第二步：检查后端服务**

```bash
# 查看运行 uvicorn 的终端
# 应该看到类似以下输出：
INFO:     Uvicorn running on http://0.0.0.0:8000
INFO:     Application startup complete
```

**验证后端 API**：
```bash
# 测试后端健康检查
curl http://localhost:8000/api/health
# 应该返回：{"status":"ok"}
```

如果失败：
- `Address already in use` → 端口 8000 被占用
- `KeyError: OPENAI_API_KEY` → API 密钥配置错误
- `Module not found` → 依赖未安装，运行 `poetry install`

**第三步：检查浏览器控制台**

1. 按 `F12` 打开开发者工具
2. 点击「Console」标签
3. 查看是否有红色错误信息

常见错误：
- `Failed to fetch` → 前后端连接失败，检查服务状态
- `Unexpected token` → JSON 解析错误，检查后端返回数据
- `404 Not Found` → API 路径错误

**第四步：清除浏览器缓存**

```bash
# 方法一：硬刷新
# Windows/Linux: Ctrl + Shift + R
# Mac: Cmd + Shift + R

# 方法二：清除缓存
# 1. 打开开发者工具（F12）
# 2. 右键点击刷新按钮
# 3. 选择「清空缓存并硬性重新加载」
```

### 问题二：分析卡住无响应

**症状**：点击「Run Analysis」后，页面长时间无响应。

#### 排查流程

```
分析卡住
    │
    ├─→ 检查前端状态
    │   ├─ 进度条是否在移动？
    │   │   ├─ 是 → 等待更长时间（最长 5 分钟）
    │   │   └─ 否 → 检查后端日志
    │   │
    │   └─ 按钮状态是否变化？
    │       └─ 否 → 刷新页面重试
    │
    ├─→ 检查后端日志
    │   ├─ 是否有错误日志？
    │   │   ├─ 是 → 根据错误修复
    │   │   └─ 否 → 检查 API 调用
    │   │
    │   └─ 日志是否在更新？
    │       └─ 否 → 后端可能卡死，重启
    │
    ├─→ 检查 API 密钥
    │   ├─ 密钥是否有效？
    │   │   └─ 无效 → 更新 .env 文件
    │   │
    │   └─ 余额是否充足？
    │       └─ 不足 → 充值或更换免费模型
    │
    └─→ 检查网络连接
        └─ 测试 LLM API 可访问性
```

#### 具体排查步骤

**第一步：检查后端日志**

在运行 `uvicorn` 的终端窗口中查看日志输出：

正常情况下会看到：
```
INFO:     POST /api/analyze - 200 OK
INFO:     Analyzing AAPL with 18 agents...
INFO:     Agent Warren Buffett completed
INFO:     Agent Charlie Munger completed
...
```

如果看到错误：
- `APIConnectionError` → 网络连接失败
- `AuthenticationError` → API 密钥无效
- `RateLimitError` → API 调用频率超限
- `TimeoutError` → API 响应超时

**第二步：检查 API 密钥**

```bash
# 查看当前配置
cat .env

# 检查密钥格式（示例）
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxx
```

**验证密钥有效性**：
```bash
# 使用 curl 测试（替换 YOUR_API_KEY）
curl https://api.openai.com/v1/models \
  -H "Authorization: Bearer YOUR_API_KEY"
```

如果返回 `401 Unauthorized`，说明密钥无效。

**第三步：刷新页面重试**

有时前端状态会不同步，刷新后重新运行分析：

1. 点击浏览器刷新按钮
2. 等待页面重新加载
3. 重新配置参数
4. 再次点击「Run Analysis」

**第四步：检查网络连接**

```bash
# 测试能否访问 LLM API
ping api.openai.com

# 测试能否访问金融数据 API
ping api.financialdatasets.ai

# 如果 ping 不通，可能是网络问题或防火墙限制
```

### 问题三：结果不显示

**症状**：分析完成但结果展示区为空。

#### 排查流程

```
结果不显示
    │
    ├─→ 检查网络请求
    │   ├─ 请求是否成功（200 OK）？
    │   │   ├─ 是 → 检查数据格式
    │   │   └─ 否 → 检查错误响应
    │   │
    │   └─ 响应时间是否正常？
    │       └─ 过长 → 可能是超时问题
    │
    ├─→ 检查数据格式
    │   ├─ JSON 格式是否正确？
    │   │   └─ 不正确 → 后端 bug
    │   │
    │   └─ 数据是否完整？
    │       └─ 不完整 → 智能体输出失败
    │
    ├─→ 尝试不同股票
    │   ├─ 其他股票正常？
    │   │   └─ 是 → 特定股票问题
    │   │
    │   └─ 都不正常？
    │       └─ 系统性问题
    │
    └─→ 查看后端错误日志
        └─ 查找异常信息
```

#### 具体排查步骤

**第一步：检查网络请求**

1. 按 `F12` 打开开发者工具
2. 点击「Network」标签
3. 点击「Run Analysis」
4. 找到 `/api/analyze` 请求

检查请求详情：
- **Status**：应该是 `200 OK`
- **Response**：查看返回的数据内容
- **Time**：响应时间不应超过 30 秒

**第二步：检查数据完整性**

查看返回的 JSON 数据：

```json
{
  "ticker": "AAPL",
  "recommendation": "BUY",
  "confidence": 0.72,
  "agents": [
    {
      "name": "Warren Buffett",
      "recommendation": "BUY",
      "confidence": 0.85,
      "reasoning": "..."
    }
  ]
}
```

如果缺少关键字段（如 `recommendation`、`agents`），说明数据不完整。

**第三步：尝试不同股票**

如果特定股票出现问题：
- 可能是数据源没有该股票数据
- 可能是股票代码错误（如 `apple` 而非 `AAPL`）

尝试其他股票（如 MSFT、GOOGL）验证：
- 如果其他股票正常 → 问题出在特定股票
- 如果都不正常 → 系统性问题

**第四步：查看错误日志**

在后端终端中查看错误日志：

```bash
# 查看最近的错误
grep -i "error" <终端输出>
```

常见错误：
- `DataNotFoundError` → 股票数据未找到
- `LLMError` → LLM 调用失败
- `ValidationError` → 数据格式错误

### 问题四：端口被占用

**症状**：启动服务时提示端口已被占用。

#### 解决方案

**查找占用端口的进程**：

```bash
# macOS/Linux
lsof -i :8000
lsof -i :5173

# 输出示例：
# COMMAND   PID   USER   FD   TYPE  DEVICE SIZE/OFF NODE NAME
# python   12345  user    4u  IPv4 0x12345      0t0  TCP *:8000 (LISTEN)
```

**关闭占用的进程**：

```bash
# 使用 kill 命令关闭进程
kill 12345

# 如果无法关闭，使用 -9 强制关闭
kill -9 12345
```

**或者更换端口**：

```bash
# 后端更换端口
poetry run uvicorn app.main:app --port 8001

# 前端更换端口（修改 vite.config.js）
# 或使用 npm run dev -- --port 5174
```

---

## 4.7 练习题

### 练习 4.1：Web 界面基本操作 ⭐

**学习目标**：掌握 Web 界面的基本使用流程

**任务描述**：使用 Web 界面完成一次完整的股票分析流程

**步骤提示**：

1. **启动服务**
   - 打开两个终端窗口
   - 在第一个终端启动后端服务（端口 8000）
   - 在第二个终端启动前端服务（端口 5173）

2. **访问界面**
   - 打开浏览器，访问 `http://localhost:5173`
   - 确认页面正常加载

3. **配置参数**
   - 输入股票代码：`AAPL`
   - 设置时间范围：最近 30 天
   - 选择模型：GPT-4o（默认）
   - 选择智能体：全部智能体

4. **运行分析**
   - 点击「Run Analysis」按钮
   - 观察进度更新
   - 等待分析完成（1-3 分钟）

5. **查看结果**
   - 查看总体建议和置信度
   - 查看智能体投票分布
   - 阅读主要观点

6. **关闭服务**
   - 在两个终端按 `Ctrl+C` 停止服务

**成功标准**：
- [ ] 能够成功启动前后端服务
- [ ] 能够通过 Web 界面完成整个分析流程
- [ ] 能够正确查看和理解分析结果
- [ ] 知道如何关闭服务

**自检问题**：
1. 为什么要启动两个服务？
2. 分析按钮有哪些状态，分别代表什么？
3. 置信度和一致性有什么区别？

**扩展挑战**：
- 尝试同时分析多只股票（如 `AAPL, MSFT, NVDA`）
- 比较不同时间范围下的分析结果差异

---

### 练习 4.2：历史记录使用 ⭐⭐

**学习目标**：掌握历史记录功能的操作

**任务描述**：运行多次分析，使用历史记录功能管理和查看分析结果

**步骤提示**：

1. **创建历史记录**
   - 运行三次不同配置的分析：
     - 分析 1：AAPL，30 天，全部智能体
     - 分析 2：MSFT，90 天，价值投资组合
     - 分析 3：GOOGL，7 天，成长投资组合

2. **访问历史记录**
   - 点击左侧边栏的「History」标签
   - 查看历史记录列表

3. **筛选历史**
   - 使用搜索框搜索 "AAPL"
   - 按时间范围筛选（最近 7 天）
   - 按智能体组合筛选

4. **查看详情**
   - 点击某条历史记录
   - 查看完整的分析报告
   - 对比不同智能体的观点

5. **重新运行**
   - 基于某条历史记录重新运行分析
   - 观察结果是否相同或变化

**成功标准**：
- [ ] 能够运行多次分析并创建历史记录
- [ ] 能够使用搜索和筛选功能查找历史
- [ ] 能够查看历史记录的详细内容
- [ ] 能够基于历史记录重新运行分析

**自检问题**：
1. 历史记录什么时候自动保存？
2. 搜索功能支持哪些字段？
3. 为什么要保存历史记录？有什么实际用途？

**扩展挑战**：
- 导出历史记录为 CSV 文件
- 使用历史记录追踪某只股票的建议变化趋势

---

### 练习 4.3：个性化配置 ⭐⭐

**学习目标**：掌握用户偏好设置

**任务描述**：配置个性化的用户偏好，验证设置是否生效

**步骤提示**：

1. **访问设置页面**
   - 点击右上角的设置按钮
   - 进入用户设置页面

2. **设置默认模型**
   - 如果配置了多个 API Key，设置默认模型
   - 如果只有 OpenAI，使用默认设置

3. **配置智能体偏好**
   - 创建一个自定义智能体组合：
     - 选择：Warren Buffett, Charlie Munger, Peter Lynch
     - 保存为预设：「我的价值组合」

4. **设置显示选项**
   - 开启「自动展开详细结果」
   - 设置每页显示历史记录：50 条
   - 开启「显示置信度百分比」

5. **保存并验证**
   - 点击「保存」按钮
   - 退出设置页面
   - 运行一次分析
   - 验证默认配置是否生效

6. **切换主题**
   - 点击主题切换按钮
   - 从浅色主题切换到深色主题
   - 观察界面变化

**成功标准**：
- [ ] 能够成功配置和保存用户偏好
- [ ] 能够创建自定义智能体组合
- [ ] 退出后重新登录，设置仍然生效
- [ ] 能够切换和选择主题

**自检问题**：
1. 用户设置保存在哪里？（本地存储还是服务器）
2. 为什么需要保存用户偏好？
3. 自定义智能体组合有什么好处？

**扩展挑战**：
- 创建多个智能体组合，分别用于不同场景
- 对比不同智能体组合的分析结果差异

---

### 练习 4.4：故障排查 ⭐⭐⭐

**学习目标**：能够独立诊断和解决常见 Web 应用问题

**任务描述**：模拟常见问题场景，练习故障排查技能

#### 场景一：页面无法加载

**模拟问题**：
1. 故意停止后端服务（在后端终端按 `Ctrl+C`）
2. 刷新浏览器页面
3. 观察现象

**解决问题**：
1. 识别问题症状
2. 按照排查流程检查
3. 重新启动后端服务
4. 验证问题解决

#### 场景二：分析卡住

**模拟问题**：
1. 在 `.env` 文件中临时修改 API 密钥为错误值
2. 尝试运行分析
3. 观察现象

**解决问题**：
1. 查看后端日志，找到错误信息
2. 识别错误类型（API 密钥无效）
3. 恢复正确的 API 密钥
4. 重启后端服务
5. 重新运行分析

#### 场景三：端口被占用

**模拟问题**：
1. 启动后端服务（端口 8000）
2. 在另一个终端尝试启动相同的后端服务
3. 观察错误信息

**解决问题**：
1. 识别错误信息（Address already in use）
2. 查找占用端口的进程
3. 关闭进程或更换端口
4. 验证解决

**成功标准**：
- [ ] 能够快速识别问题的类型和原因
- [ ] 能够按照正确的排查流程解决问题
- [ ] 能够读懂错误日志并定位问题
- [ ] 能够独立完成常见故障的修复

**自检问题**：
1. 页面无法加载时，应该首先检查什么？
2. 如何判断是前端问题还是后端问题？
3. 浏览器开发者工具的 Network 标签有什么作用？

**扩展挑战**：
- 总结自己的故障排查流程，形成检查清单
- 与其他用户交流，学习他们的故障排查经验

---

### 练习 4.5：深度分析 ⭐⭐⭐

**学习目标**：使用 Web 界面进行深度分析，理解数据的含义

**任务描述**：对同一只股票进行多角度分析，综合判断

**步骤提示**：

1. **选择股票**
   - 选择你感兴趣的一只股票（如 AAPL）
   - 确保这只股票有足够的历史数据

2. **多时间范围分析**
   - 分别分析 7 天、30 天、90 天的数据
   - 对比不同时间范围下的建议差异
   - 思考：为什么建议会变化？

3. **多智能体组合分析**
   - 使用价值投资组合分析
   - 使用成长投资组合分析
   - 使用激进组合分析
   - 对比不同组合的建议差异

4. **记录和总结**
   - 记录每次分析的结果（建议、置信度、一致性）
   - 总结不同分析角度的特点
   - 形成自己的判断

**成功标准**：
- [ ] 能够完成多个时间范围的分析
- [ ] 能够对比不同智能体组合的结果
- [ ] 能够理解建议变化的原因
- [ ] 能够形成综合判断

**自检问题**：
1. 时间范围如何影响分析结果？
2. 不同风格的智能体为什么会产生分歧？
3. 在什么情况下应该听从多数智能体的建议？
4. 在什么情况下应该关注少数智能体的观点？

**扩展挑战**：
- 选择争议较大的股票（如加密货币相关）
- 分析智能体观点的分歧来源
- 尝试找到共识点，提出折中方案

---

## 自检清单

完成本章学习后，请自检以下能力：

### 基础技能 ⭐

- [ ] 能够独立启动 Web 应用的前后端服务
- [ ] 能够通过 Web 界面完成完整的股票分析流程
- [ ] 能够理解并解读界面各区域的功能
- [ ] 能够查看和理解分析结果

### 进阶技能 ⭐⭐

- [ ] 能够熟练使用历史记录功能
- [ ] 能够配置和保存用户偏好设置
- [ ] 能够理解可视化图表的含义
- [ ] 能够独立诊断和解决常见问题

### 专家技能 ⭐⭐⭐

- [ ] 能够对比分析不同配置的结果差异
- [ ] 能够从多角度综合判断投资决策
- [ ] 能够设计故障排查流程
- [ ] 能够提出 Web 应用的改进建议

---

## 进阶思考

### 思考题一：Web 界面 vs 命令行

> 💡 **对比分析**

**Web 界面的优势**：
- ✅ 直观易用，降低技术门槛
- ✅ 可视化展示，理解更直观
- ✅ 历史记录管理方便
- ✅ 适合非技术用户

**Web 界面的劣势**：
- ❌ 需要启动两个服务，资源消耗大
- ❌ 不便于自动化和批处理
- ❌ 灵活性不如命令行

**命令行的优势**：
- ✅ 适合自动化和脚本
- ✅ 资源消耗小
- ✅ 灵活性高，可深度定制
- ✅ 适合技术用户和 CI/CD 集成

**命令行的劣势**：
- ❌ 需要记忆复杂参数
- ❌ 缺少可视化
- ❌ 历史记录管理不便

**问题**：
1. 什么情况下应该使用 Web 界面？
2. 什么情况下应该使用命令行？
3. 能否结合两者的优势？如何实现？

---

### 思考题二：团队协作场景

> 🤔 **场景设想**

假设你是一个投资团队的技术负责人，团队中有：
- 投资分析师：非技术背景，主要做投资决策
- 数据工程师：技术背景，负责数据处理和自动化
- 产品经理：负责产品规划和用户体验

**问题**：
1. Web 界面在团队协作中有哪些命令行无法替代的功能？
2. 如何设计 Web 界面以支持团队协作？（如：分享分析结果、团队评论、权限管理）
3. 如何平衡易用性和功能性？

---

### 思考题三：功能扩展建议

> 🚀 **产品设计**

基于当前 Web 界面的功能，思考以下问题：

1. **你最希望添加的功能是什么？**
   - 提醒功能：价格达到目标时通知
   - 回测功能：回测历史决策的收益率
   - 对比功能：同时对比多只股票
   - 导出功能：导出分析报告为 PDF
   - 社交功能：分享分析结果，查看他人观点
   - 其他：__________

2. **为什么这个功能重要？**
   - 解决什么痛点？
   - 带来什么价值？

3. **如何实现这个功能？**
   - 需要什么技术？
   - 需要什么数据？
   - 有什么挑战？

---

## 学习路径指引

### 完成本章后

你已经掌握了：
- ✅ Web 界面的基本使用
- ✅ 股票分析流程
- ✅ 历史记录管理
- ✅ 个性化配置
- ✅ 常见问题排查

### 下一步学习

**推荐路径**：

1. **继续 Level 1 学习**：
   - 下一章：[05-advanced-usage.md](./05-advanced-usage.md)（高级用法）
   - 掌握批量分析、自动化等高级功能

2. **转向 Level 2 核心概念**（建议有技术背景）：
   - [level2-core-concepts/01-architecture.md](../level2-core-concepts/01-architecture.md)
   - 深入理解系统架构和工作原理

3. **实战练习**：
   - 使用 Web 界面分析你关注的股票
   - 验证系统建议的准确性
   - 形成自己的投资判断

---

## 版本信息

| 项目 | 信息 |
|------|------|
| 文档版本 | 2.0.0 |
| 最后更新 | 2026 年 2 月 13 日 |
| 适用版本 | 1.0.0+ |
| 文档级别 | Level 1 ⭐（入门教程） |
| 预计学习时间 | 20-40 分钟 |

**更新日志**：
- v2.0.0 (2026.02.13)：重大升级，按照专家级文档标准重写
  - ✨ 添加分层学习目标（基础/进阶/专家）
  - ✨ 完善术语管理，首次出现的术语添加解释
  - ✨ 优化认知负荷，增加可视化图表和流程图
  - ✨ 深化原理解析，解释"为什么"
  - ✨ 丰富练习设计，增加故障排查练习
  - ✨ 添加自检清单和学习路径指引
- v1.0.2 (2026.02)：更新界面截图说明，增加故障排查步骤
- v1.0.1 (2025.12)：完善历史记录功能说明
- v1.0.0 (2025.10)：初始版本

---

## 反馈与贡献

### 文档反馈

如果您在使用本文档过程中发现问题或有改进建议，欢迎通过以下方式反馈：

- **GitHub Issues**：[提交 Issue](https://github.com/virattt/ai-hedge-fund/issues)
- **GitHub Pull Requests**：[提交 PR](https://github.com/virattt/ai-hedge-fund/pulls)

### 文档贡献

我们欢迎社区贡献！改进文档的方式包括：

1. 📝 修正错误和不准确之处
2. 📖 添加缺失的内容
3. 🎨 改进结构和可读性
4. 🌐 翻译成其他语言
5. 📸 添加截图和图表

### 贡献指南

1. Fork 本仓库
2. 创建分支：`git checkout -b docs/improve-web-interface`
3. 进行修改
4. 提交：`git commit -m "docs: improve web interface guide"`
5. 推送：`git push origin docs/improve-web-interface`
6. 创建 Pull Request

---

## 参考资源

### 相关文档

- [上一章：03-command-line-interface.md](./03-command-line-interface.md)
- [下一章：05-advanced-usage.md](./05-advanced-usage.md)
- [Level 2：核心概念](../level2-core-concepts/)
- [项目 README](../../README.md)

### 外部资源

- [FastAPI 官方文档](https://fastapi.tiangolo.com/)
- [React 官方文档](https://react.dev/)
- [Vite 官方文档](https://vitejs.dev/)
- [RESTful API 设计指南](https://restfulapi.net/)

---

**祝你学习愉快！** 🎉
